<ion-header>
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-menu-button></ion-menu-button>
		</ion-buttons>
		<ion-title>
			Quản lý lịch hẹn
		</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content>
	<ion-card *ngFor="let appointment of appointments$; let i = index" (click)="detailAppointment(appointment._id)" class="ion-margin">
		<ion-card-header>

			<ion-card-subtitle
				[style.color]="appointment.status === 'comming' ? 'red' : (appointment.status === 'done' ? 'green' : 'orange')">
				{{appointment.status}}
			</ion-card-subtitle>

			<ion-item>
				<ion-icon *ngIf="appointment.status === 'comming'" color="danger" size="small" name="ellipse">
				</ion-icon>
				<ion-icon *ngIf="appointment.status === 'done'" color="success" size="small" name="ellipse">
				</ion-icon>
				<ion-label> {{ appointment.name}}</ion-label>
			</ion-item>

		</ion-card-header>

		<ion-card-content>
			<ion-label>{{appointment.start_time}} - {{appointment.end_time}}</ion-label>
		</ion-card-content>

		<ion-row>

			<ion-item button [disabled]="appointment.status === 'done'" (click)="update(appointment._id)">
				<ion-icon name="checkmark-outline"></ion-icon>
				<p>Hoàn thành</p>
			</ion-item>

			<ion-item button (click)="delete(appointment._id)">
				<ion-icon name="trash-outline"></ion-icon>
				<p>Huỷ lịch</p>
			</ion-item>
		</ion-row>

	</ion-card>

</ion-content>